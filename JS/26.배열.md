## 배열

- 순서가 있는 값들의 나열로 이루어진 자료구조이다.
- 하나의 변수의 여러개의 값을 저장할 수 있다는 장점이 있다.
- 배열의 값을 요소(element) 라고 부르며, 자바스크립트에서 값으로 사용할 수 있는 모든것은 배열의 요소가 될 수 있다.
- 배열은 인덱스(index)를 갖고 있다.



### 배열의 접근방법 2가지

#### 1) 대괄호 표기법

- 대괄호 내에 요소의 인덱스를 지정한다. 

```
arr = ['apple', 'banana', 'orange'];

arr[0] = 'apple'
arr[1] = 'banana'
arr[2] = 'orange'
```



#### 배열과 객체

- 자바스크립트는 배열이라는 타입을 갖고있지는 않는다. 배열은 객체이다.
- 배열은 배열리터럴 또는 Array 생성자 함수로 생성할 수 있다.
- 배열의 프로토타입 객체는 Arrya.prototype이다.

![image-20191113163527232](/Users/igayeong/Library/Application Support/typora-user-images/image-20191113163527232.png)

|      구분       | 객체                      | 배열          |
| :-------------: | ------------------------- | ------------- |
|      구조       | 프로퍼티 키와 프로퍼티 값 | 인덱스와 요소 |
|    값의 참조    | 프로퍼티 키               | 인덱스        |
|    값의 순서    | X                         | O             |
| length 프로퍼티 | X                         | O             |



#### 배열은 요소의 개수를 나타내는 `length` 프로퍼티와 `index`가장 큰 특징이다.

- 반복문을 통해 순차적으로 값에 접근하기 위해 적합한 자료 구조이다.
- 반복문으로 자료 구조를 순회하기 위해서는 자료 구조의 길이를 알아야 한다.
- **배열의 장점은 원하는 위치부터 순차적으로 요소에 접근할 수 있다는 갓이다.**



#### 자바스크립트 배열은 배열이라 볼 수 없다.

- 일반적으로 배열이란 동일한 크기의 메모리에 빈틈없이 연속적으로 나열된 자료구조를 말한다.  **밀집배열** 이라고 한다.
- 따라서 인덱스를 통해 단한번의 연산으로 요소에 접근하여 `시간복잡도 O` 할 수 있다.

```
검색 대상의 메모리 주소 = 배열의 시작 주소 + 인덱스 + 요소 바이트 수
```

- 하지만 정렬되지 않은 배열에선 값을 찾을 때까지 차례대로 검색`선형 탐색(Linear search), 시간 복잡도 O(n)` 을 해야한다.

- 또한 배열 요소의 추가나 삭제 또한 배열의 연속성을 위해 이동시켜야 하는 단점도 있다.

- ##### 자바스크립트에서 배열은 동일한 크기의 메모리를 갖지 않아도 되며, 연속적이지 않을 수도 있다. `희소 배열` 이라고 한다.

- 자바스크립트에서 배열은 일반적인 배열의 속성을 흉내낸 특수한 객체라고 볼수 있다.

- 자바스크립트에서 사용할 수 있는 모든 값은 배열의 요소가 될 수 있다.

![image-20191113181955225](/Users/igayeong/Library/Application Support/typora-user-images/image-20191113181955225.png)



#### 자바스크립트 배열의 장단점

1. **일반적인 배열**은 인덱스로 배열 요소에 빠르게 접근이 가능하다. 특정 요소를 탐색하거나 추가나 삭제하는 경우에는 효율적이지 않다.
2. **자바스크립트 배열** 인덱스로 배열 요소에 접근하는 경우, 일반적인 배열보다 성능면에서 느리다는 단점이 있다. 특정 요소를 탐색하거나 추가나 삭제하는 경우에는 일반적인 배열보다 빠른 성능을 기대할 수 있다.
3. **결론**: **자바스크립트 배열** 은 이러한 성능적인 문제를 보완하기 위해 대부분의 모던 **자바스크립트 엔진**은 배열을 일반객체와 구별하여 보다 배열처럼 동작하도록 최적화하여 구현하였다.



#### length 프로퍼티와 희소 배열

- length 배열의 길이를 나타내는 정수를 값으로 갖는다. 가장 큰 인덱스에 1을 더한것과 같다.
- 0부터 최대 232 – 1(4,294,967,295)개 이다. 

- **length 프로퍼티의 값은 배열에 요소를 추가하거나 삭제하면 자동 갱신된다.**
- **현재 length 프로퍼티 값보다 큰 숫자값을 할당할때, length프로퍼티 값은 변경되지만 실제로 배열의 길이는 그대로다.**

![image-20191114155511778](/Users/igayeong/Library/Application Support/typora-user-images/image-20191114155511778.png)

- `empty` 는 값이 없이 비어있는 요소를 위해 메모리 공간을 확보하지 않으며, 빈 요소를 생성하지도 않는다.
- 배열의 요소가 연속적으로 위치하지 않고, 일부가 비어있는 배열을 **희소 배열**이라고 한다.
- 희소배열을 문법적으로 허용하지만, 희소배열이 필요한 경우도 없고 **배열의 본질인 연속적인 값의 집합**이라는 개념에도 맞지 않으므로 생성하지 않도록 한다.



### 배열 생성 방법

#### 1. 배열 리터럴

- 0개 이상의 요소를 쉼표로 구분하여 `[ ]` 로 묶는다.
- 프로퍼티 이름이 없고 오직 **값** 만 존재한다.
- 배열 리터럴에 요소를 생략하면 **희소 배열** 이 생성된다.
- 인덱스에 값이 `empty`라면, `undefined` 값이다.

![image-20191114161841588](/Users/igayeong/Library/Application Support/typora-user-images/image-20191114161841588.png)



#### 2. Array 생성자 함수

- Array 생성자함수는 전달된 인수의 개수에 따라 다르게 동작한다.
- New 연산자와 함께 호출하지 않더라도, 생성자 함수로 동작한다. **생성자 함수 내부에서 new.target을 확인하기 때문이다.**



#### 3. Array.of

- ES6에서 새롭게 도입된 메소드, 전달된 인수를 요소로 갖는 배열을 생성한다.
- Array 생성자함수와 다르게 전달된 인수가 1개이고, 숫자이더라도 인수를 요소로 갖는 배열을 생성한다.
![image-20191114170352611](/Users/igayeong/Library/Application Support/typora-user-images/image-20191114170352611.png)



#### 4. Array.from

- ES6에서 새롭게 도입된 Array.from 메소드는 **유사 배열 객체** 또는 **이터러블 객체**를 변환하여 새로운 배열을 생성한다.
- Array.from을 사용하면 두번째 인수로 전달한 함수를 통해 값을 만들면서 요소를 채울 수 있다.
- 두번째 인수로 전달한 함수는 첫번째 인수에 의해 생성된 배열의 요소값과 인덱스를 순차적으로 전달받아 새로운 요소를 생성할 수 있다.

![image-20191114174014064](/Users/igayeong/Library/Application Support/typora-user-images/image-20191114174014064.png)



> 유사배열과 이터러블 객체

- **유사 배열 객체는 마치 배열처럼 인덱스로 값에 접근할 수 있고, length 프로퍼티를 갖고 있기 때문에 for문으로 순회할 수도 있다.**
- 이터러블 객체는 Symbol.iterator 메소드를 구현하여 for...of 문으로 순회할 수 있으며 **스프레드 문법의 대상으로 사용할 수 있는 객체** 를 말한다.
- ES6에서 제공하는 빌트인 이터러블은 Array, String, Map, Set, DOM data structure, Arguments등이 있다.

![image-20191114174231566](/Users/igayeong/Library/Application Support/typora-user-images/image-20191114174231566.png)



#### 배열요소 참조법

- 배열요소를 참조할 때는 대괄호 표기법을 사용하며, 대괄호 안에는 인덱스가 와야한다. `console.log(arr[2])`
- 표현식의 값이 정수라면 인덱스로 사용할 수 있다.
- 인덱스는 값을 참조할 수 있다는 점에서 객체의 프로퍼티 키와 같은 역할을 한다고 볼 수 있다.
- 존재하지 않는 요소에 접근하면 `undefined`가 반환된다.



#### 배열요소의 추가와 갱신

- 배열에도 요소를 동적으로 추가할 수 있다.
- 이때 length 프로퍼티값은 자동 갱신된다.