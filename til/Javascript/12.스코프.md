## 스코프

- 식별자가 유효한 범위를 말한다.
- 자바스크립트 엔진은 스코프를 통해 어떤 변수를 참조할 것인지를 결정한다.



##### 변수를 선언, 참조, 할당하는 기본적인 기능으로 프로그램의 상태(state)를 관리한다.



> 순수함수와 비순수 함수

- 순수함수는 오직 인수로 인해 값을 만든다. 
- 비순수 함수는 외부상태에 따라 값이 달라진다. 부수효과가 있다,



### 스코프 종류

| 구분 | 설명                 | 스코프      | 변수      |
| ---- | -------------------- | ----------- | --------- |
| 전역 | 코드의 가장 바깥영역 | 전역 스코프 | 전역 변수 |
| 지역 | 함수 몸체 내부       | 지역 스코프 | 지역 변수 |

![image-20191030191637109](/Users/igayeong/Library/Application Support/typora-user-images/image-20191030191637109.png)



> 렉시컬 환경**(Lexical Environment)**

- 렉시컬 환경을 단방향으로 연결한것이 스코프 체인이다.

### 

#### 함수 레벨 스코프

-  var 키워드로 선언된 변수의 경우이다.

- 지역은 함수 몸체 내부를 말한다.
- 코드블록이 아닌 함수에 의해서만 지역 스코프가 생성된다는 의미이다.



#### 렉시컬 스코프 (정적 스코프)

- 함수 정의가 평가되는 시점에 상위 스코프가 정적으로 결정되는것을 말한다.
- 자바스크립트는 렉시컬 스코프를 따른다.



> 렉시컬 환경과 함수 객체의 내부 슬롯 [[Environment]]

- 함수 정의가 평가되어 함수객체를 생성할 때, 자신이 정의된 스코프를 내부 슬롯 [[Environment]]에 저장한다.

- 렉시컬 환경은 자바스크립트 엔진이 식별자와 스코프를 관리하기 위해 사용하는 일종의 자료구조이다.



##### HTML에서 로드할때 여러개의 자바스크립트 파일이 있다해도, 하나의 스코프를 공유한다. 자바스크립트의 모듈이라는 개념이 없기 때문이다.



> 모듈

- 재사용이 가능한 코드 조각을 말한다.
- 세부사항을 캡슐화하고, 공개가 필요한 API만을 외부에 노출한다.
- 모듈화가 가능하려면 우선 파일 스코프가 지원되어야 한다.



<hr>

###### Reference
[Poiemaweb]: https://poiemaweb.com